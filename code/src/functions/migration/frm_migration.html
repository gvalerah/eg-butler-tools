<form method="post" class="form" role="form" id="request">
    <!-- csrf_token: {{ form.csrf_token }} hidden_tag(): {{ form.hidden_tag() }} name: {{ form.name }} -->
    <table bgcolor=white> <!-- MAIN TABLE -------------------------- -->
        <tr>
            <td width=100%>
                <table bgcolor=white border=0>  <!-- Main VM fields request form ----------- -->
                    <tr>
                        <td width=64>
                            <!-- Incluire codigo para pop up -->
                            <a role="presentation" class="active" data-toggle="modal" data-target="#create" href="#">
                                <span class="glyphicon glyphicon-pencil"></span>
                                <img src="/static/img/add.png"
                                color=yellow width="32" height="32" title="" alt="Add">
                            </a>
                            <div class="modal fade" id="create" tabindex="-1" role="dialog" aria-labelledby="createModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                            <h4 class="modal-title" id="createModalLabel">Crear</h4>
                                        </div>
                                        <div class="modal-body">
                                            <div class="container">
                                                <!-- form method=post action="/forms/Migration/create_group" -->
                                                <form method=post>
                                                    <dl>
                                                        <dt><label for="mgNewName">{{gettext('Migration Group')}}</label>
                                                        <dd><input id="mgNewName" name="mgNewName" type="text" value=""></dd>
                                                    </dl>
                                                    <p><input id="submit_crear" name="submit_Crear" type=submit value=Crear>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Incluire codigo para pop up -->
                        </td>
                        <td><b>{{gettext('Migration Group')}}</b> <span style="color: blue">{{form.mgId}}</span></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table border = 0>
                    <tr>
                        <td width=64></td>
                        <td><b>{{gettext('name')|capitalize}}</b></td>
                        <td>
                          <select class="form-control" name="mgName" id="mgName">
                            {%- for value,option in form.mgName.choices %}
                              {%- if value == form.mgName.data %}
                              <option selected value="{{value}}">{{option}}</option>
                              {%- else %}
                              <option value="{{value}}">{{option}}</option>
                              {%- endif %}
                            {%- endfor %}
                          </select>
                        </td>
                    </tr>
                    
                    
                    <tr><td></td>
                        <td><b>{{gettext('origin cluster')|capitalize}}</b></td>
                        <td>
                          <select class="form-control" name="mgOrigin" id="mgOrigin">
                            {%- for value,option in form.mgOrigin.choices %}
                              {%- if value == form.mgOrigin.data %}
                              <option selected value="{{value}}">{{option}}</option>
                              {%- else %}
                              <option value="{{value}}">{{option}}</option>
                              {%- endif %}
                            {%- endfor %}
                          </select>
                        </td>
                    </tr>
                    <tr><td></td>
                        <td><b>{{gettext('destiny cluster')|capitalize}}</b></td>
                        <td>
                          <select class="form-control" name="mgDestiny" id="mgDestiny">
                            {%- for value,option in form.mgDestiny.choices %}
                              {%- if value == form.mgDestiny.data %}
                              <option selected value="{{value}}">{{option}}</option>
                              {%- else %}
                              <option value="{{value}}">{{option}}</option>
                              {%- endif %}
                            {%- endfor %}
                          </select>
                        <td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table style="width:100%" class="table table-striped table-hover table-sm" align="center"> 
                    <thead class="thead-light">   
                        <tr>
                            <th><!-- a href="#" onclick="history.go(-1)">
                                <!-- Incluira codigo pop up -->
                                <a role="presentation" class="active" data-toggle="modal" data-target="#addvm" href="#">
                                    <span class="glyphicon glyphicon-pencil"></span>
                                    <img src="/static/img/add.png"
                                    color=yellow width="32" height="32" title="" alt="Add">
                                </a>
                                <div class="modal fade" id="addvm" tabindex="-1" role="dialog" aria-labelledby="addvmModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                                <h4 class="modal-title" id="addvmModalLabel">Agregar</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="container">
                                                    <form method=post action="/forms/Migration/add_vm_to_group">
                                                        <dl>
                                                            <dt><label for="vmId">{{gettext('virtual machine for group')|capitalize}} {{form.mgId}}</label>
                                                            <dd><input id="mgId" name="mgId" type="hidden" value="{{form.mgId}}"></dd>
                                                            <dd>
                                                                <select class="form-control" name="vmId" id="vmId">
                                                                    {%- for value,option in form.mgOriginVms.choices %}
                                                                    {%- if value == form.mgOriginVms.data %}
                                                                    <option selected value="{{value}}">{{option}}</option>
                                                                    {%- else %}
                                                                    <option value="{{value}}">{{option}}</option>
                                                                    {%- endif %}
                                                                    {%- endfor %}
                                                                </select>
                                                            </dd>
                                                        </dl>
                                                        <p><input id="submit_Agregar" name="submit_Agregar" "type=submit value=Agregar>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Incluira codigo pop up -->
                                
                            </th>
                            <th>{{gettext('virtual machines')|capitalize}}</th>
                            <th>{{gettext('migrate')|capitalize}}</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for r in form.mgVms %}
                    <tr>
                        <td width=64></td>
                        <td width=384>{{r.vm_uuid}}:{{ r.vm_name }}</td>
                        <td>
                            <div class="form-check form-switch" align="center">
                            {% if r.vm_migrate %}
                            <a><input class="form-check-input" type="checkbox" name="cbx_1_{{r.vm_uuid}}" id="cbx_1_{{r.vm_uuid}}" style="width: 32,height: 32" checked></a>
                            {% else %}
                            <a><input class="form-check-input" type="checkbox" name="cbx_1_{{r.vm_uuid}}" id="cbx_1_{{r.vm_uuid}}" style="width: 32,height: 32" ></a>
                            {% endif %}
                            </div>
                        </td>
                        <td>
                            <a href="#" onclick="history.go(-1)">
                                <img src="/static/img/delete.png"
                                    color=yellow width="32" height="32" title="" alt="Delete"
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </td>
        </tr>
    </table>
    <hr>
    <!-- Buttons code -->
    <input class="btn btn-default" id="submit_Clonar"   name="submit_Clonar"   type="submit" value="{{gettext('Clone')}}" >
    <input class="btn btn-default" id="submit_Salvar"   name="submit_Salvar"   type="submit" value="{{gettext('Save')}}">
    <input class="btn btn-default" id="submit_Eliminar" name="submit_Eliminar" type="submit" value="{{gettext('Delete')}}">
    <input class="btn btn-default" id="submit_Cancelar" name="submit_Cancelar" type="submit" value="{{gettext('Cancel')}}">
    <input class="btn btn-default" id="submit_Validar"  name="submit_Validar"  type="submit" value="{{gettext('Validate')}}">
    <input class="btn btn-default" id="submit_Migrar"   name="submit_Migrar"   type="submit" value="{{gettext('Migrate')}}">
    
    <p>
    DEBUG PARAGRAPH TO DELETE<br>
    form.mgVms: {{form.mgVms}}<br>
    form.mgData: {{form.mgData}}
    </p>
    
</form>
